## cavaj - javac's evil twin

### Архитектура проекта

Проект состоит из трёх основных компонентов:

- Парсинг байткода в IR
- Анализ и преобразование IR
- Восстановление исходного кода из IR

#### Парсинг байткода

Преобразует байткод со стеком аргументов в IR с неограниченным количеством переиспользуемых переменных.

#### Анализ и преобразование IR

Преобразует IR в AST-подобное представление, анализируя control flow программы. Сжимает паттерны вроде отрицания `boolean` значений, восстанавливает циклы и условные выражения.

#### Восстановление исходного кода из IR

По AST-подобному представлению восстанавливает исходный код программы, форматируя дерево в корректный Java синтаксис.

#### Взаимодействие

На высоком уровне взаимодействие модулей выглядит следующим образом:

```scala
val ir = BytecodeParser.parseClassFile(input)
val ast = buildAst(ir)
val output = restoreJava(ast)
```

Т.е. модули действуют последовательно, помимо передачи результата предыдущего этапа следующему взаимодействия между ними нет.
